<template>
<div class="page">
  <div class="navbar">
    <div class="navbar-bg"></div>
    <div class="navbar-inner sliding">
      <div class="left">
        <a href="#" class="link back">
          <i class="icon icon-back"></i>
          <span class="if-not-md">Back</span>
        </a>
      </div>
      <div class="title">About</div>
    </div>
  </div>
  <div class="page-content">
    <div class="block block-strong">
      <p>Flaxa is a hybrid mobile application and personal money manager created by the publisher StandardGuy Technologies</p>
      <p>The source code for the application is avaiable at the public repository <a href="#" class="mylink external" data-ref="repolink">here</a> and is under the GPLv3 license.</p>
      <p><a href="#" class="mylink external" data-ref="emaillink">contact</a></p>
      <p><a href="#" class="mylink external" data-ref="termslink">Terms of service</a></p>
      <p><a href="#" class="mylink external" data-ref="liblink">Third party software</a></p>
    </div>
  </div>
</div>
</template>
<script>
  export default (props, context) => {
    const appmsgs = {
      termslink: 'https://standardguytechnologies.github.io/Flaxa/',
      emaillink: 'mailto:gethelp.fga@gmail.com',
      liblink: "https://standardguytechnologies.github.io/Flaxa/external_lib.html",
      repolink: "https://github.com/standardGuyTechnologies/FlaxaGreen.git"
    }
    context.$on('pageInit', () => {
      context.$(document).on('click', '.mylink', function (e) {
        if (!window.cordova) return;
        e.stopImmediatePropagation();
        let thelink = e.target.dataset.ref;
        cordova.InAppBrowser.open(appmsgs[thelink], '_system');
      });
    })
    return $render;
  }
</script>

